create table if not exists users
(
    id        BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    full_name VARCHAR NOT NULL UNIQUE,
    birthday  INT    NOT NULL CHECK ( birthday > 1900 )
);

create table if not exists books
(
    id           BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title        VARCHAR NOT NULL,
    author       VARCHAR NOT NULL,
    published_at INT     NOT NULL,
    user_id      BIGINT REFERENCES users (id)
);

insert into users (full_name, birthday)
VALUES ('Иванов Иван Иванович', 1970),
       ('Петров Петр Петрович', 1960),
       ('Алексеев Алексей Алексеевич', 1989),
       ('Познер Владимир Владимирович', 1944),
       ('Федоров Мирон Янович', 1985);

insert into books (title, author, published_at, user_id)
VALUES ('Над пропастью во ржи', 'Джером Сэлинджер', 1951, 1),
       ('День опричника', 'Владимир Сорокин', 2006, 2),
       ('Тайные виды на гору Фудзи', 'Владимир Пелевин', 2018, 1),
       ('Философия Java', 'Брюс Эккель', 2018, null),
       ('Психопатология обыденной жизни', 'Фрейд Зигмунд', 1904, null),
       ('Игра в бисер', 'Герман Гессе', 1943, 1),
       ('Бытие и время', 'Мартин Хайдеггер', 1927, 3),
       ('Book1', 'Author1', 1927, null),
       ('Book2', 'Author2', 1927, null),
       ('Book3', 'Author3', 1927, null),
       ('Book4', 'Author4', 1927, null),
       ('Book5', 'Author5', 1927, null),
       ('Book6', 'Author6', 1927, null),
       ('Book7', 'Author7', 1927, null),
       ('Book8', 'Author8', 1927, null),
       ('Book9', 'Author9', 1927, null),
       ('Book10', 'Author10', 1927, null),
       ('Book11', 'Author1', 1927, null),
       ('Book12', 'Author2', 1927, null),
       ('Book13', 'Author3', 1927, null),
       ('Book14', 'Author4', 1927, null),
       ('Book15', 'Author5', 1927, null),
       ('Book16', 'Author6', 1927, null),
       ('Book17', 'Author7', 1927, null),
       ('Book18', 'Author8', 1927, null),
       ('Book19', 'Author9', 1927, null),
       ('Book20', 'Author10', 1927, null),
       ('Book21', 'Author1', 1927, null),
       ('Book22', 'Author2', 1927, null),
       ('Book23', 'Author3', 1927, null),
       ('Book24', 'Author4', 1927, null),
       ('Book25', 'Author5', 1927, null),
       ('Book26', 'Author6', 1927, null),
       ('Book27', 'Author7', 1927, null),
       ('Book28', 'Author8', 1927, null),
       ('Book29', 'Author9', 1927, null),
       ('Book30', 'Author10', 1927, null);
